<div class="main-container" style="padding: 20px;">
  <h2>US State Data Visualization</h2>

  <div class="filter-section">
    <h3>Display Category:</h3>
    <div class="filter-group">
      <label for="displayCategory">Choose Data:</label>
      <select id="displayCategory" [(ngModel)]="currentDisplayCategory" (change)="onDisplayCategoryChange($event)">
        <option value="income">Median Household Income</option>
        <option value="gdp">GDP per Capita</option>
        <option value="population">Population</option>
        <option value="area">State Area</option>
        <option value="unemployment">Unemployment Rate</option>
        <option value="housing">Housing Cost Index</option>
        <option value="education">Education Spending per Capita</option>
      </select>
    </div>
  </div>

  <div class="filter-section">
    <h3>Time Filters:</h3>
    <div class="filter-group">
      <label for="monthFilter">Month Wise:</label>
      <select id="monthFilter" [(ngModel)]="currentMonth" (change)="filterByMonth($event)">
        <option value="">Current Snapshot</option>
        <option *ngFor="let month of getMonthsForDropdown()" [value]="month.value">{{ month.viewValue }}</option>
      </select>
    </div>

    <div class="filter-group">
      <label for="sixMonthFilter">6-Month Average (Starting Month):</label>
      <select id="sixMonthFilter" [(ngModel)]="currentSixMonthStartMonth" (change)="filterBySixMonths($event)">
        <option value="">No 6-Month Avg</option>
        <option *ngFor="let month of getMonthsForDropdown()" [value]="month.value">{{ month.viewValue }}</option>
      </select>
    </div>
  </div>

  <div class="filter-section">
    <h3>Value-Based Filters (for current category):</h3>
    <div class="filter-group">
      <label for="topNFilter">Top N States:</label>
      <select id="topNFilter" [(ngModel)]="currentTopN" (change)="filterByTopN($event)">
        <option [value]="undefined">No Top N</option>
        <option value="3">Top 3</option>
        <option value="5">Top 5</option>
        <option value="10">Top 10</option>
      </select>
    </div>

    <div class="filter-group">
      <label for="bottomNFilter">Bottom N States:</label>
      <select id="bottomNFilter" [(ngModel)]="currentBottomN" (change)="filterByBottomN($event)">
        <option [value]="undefined">No Bottom N</option>
        <option value="3">Bottom 3</option>
        <option value="5">Bottom 5</option>
        <option value="10">Bottom 10</option>
      </select>
    </div>

    <div class="filter-group">
      <label for="minValInput">Min Value:</label>
      <input id="minValInput" type="number" placeholder="Min" [(ngModel)]="currentMinVal" (keyup.enter)="filterByRange()">

      <label for="maxValInput">Max Value:</label>
      <input id="maxValInput" type="number" placeholder="Max" [(ngModel)]="currentMaxVal" (keyup.enter)="filterByRange()">
      <button (click)="filterByRange()">Apply Range Filter</button>
    </div>
  </div>

  <div class="filter-section">
    <h3>State Search & Reset:</h3>
    <div class="filter-group">
      <label for="searchState">Search State (Name or Code):</label>
      <input id="searchState" type="text" placeholder="e.g., California or CA" [(ngModel)]="searchStateText" (keyup.enter)="searchAndHighlightState()">
      <button (click)="searchAndHighlightState()">Highlight State</button>
    </div>

    <div class="filter-group">
      <button (click)="resetFilters()">Reset All Filters</button>
    </div>
  </div>


  <div id="container7" style="width: 100%; height: 500px;"></div>
</div>